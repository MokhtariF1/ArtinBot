from telethon.tl.functions.channels import GetParticipantsRequest
from telethon.tl.types import ChannelParticipantsSearch, InputChannel
import re


API_ID = 86576
API_HASH = "385886b58b21b7f3762e1cde2d651925"
ENV = 1
if ENV:
    BOT_TOKEN = "7185706687:AAEkVBiMGDh0IigJs0iJBSSL1i7U7mN1e2k"
else:
    BOT_TOKEN = "6300653200:AAFK0BuvMPJ4kZV3gj_sbvXezciah_ga1B4"
PAY_TOKEN = "fced3227-3cf2-486f-95e7-52ee9e8fd77d"
SESSION_NAME = "bot"
if ENV:
    PROXY = False
else:
    PROXY = True
PROXY_TYPE = "socks5"
PROXY_ADDRESS = "127.0.0.1"
PROXY_PORT = 10808
DB_NAME = "bot.db"
CHANNEL_ID = "https://t.me/F1DataOfficial"
BOT_ID = "https://t.me/F1DataIQBot"
CALLBACK_URL = "https://f1datas.com/payment"


async def join_check(user_id, cli):
    entity = await cli.get_entity(CHANNEL_ID)
    access_hash = entity.access_hash
    channel_id = entity.id
    participants = await cli(GetParticipantsRequest(
        channel=InputChannel(channel_id, access_hash),
        filter=ChannelParticipantsSearch(''),
        offset=0,
        limit=1000000000,
        hash=0
    ))
    result = False
    for p in participants.participants:
        if user_id == p.user_id:
            result = True
    return result, entity


def extract_hashtags(text):
    # the regular expression
    regex = "#(\w+)"
    # extracting the hashtags
    hashtag_list = re.findall(regex, text)
    return hashtag_list


# bot texts
TEXT = {
    "EN_SELECTED": "ุฒุจุงู ๐ด๓ง๓ข๓ฅ๓ฎ๓ง๓ฟุงูฺฏูุณ ุงูุชุฎุงุจ ุดุฏ",
    "FA_SELECTED": "ุฒุจุงู ๐ฎ๐ทูุงุฑุณ ุงูุชุฎุงุจ ุดุฏ",
    "Membership_Confirmation": "ุชุงุฏ ุนุถูุช",
    "pls_join": "ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุฑุจุงุช ุงุจุชุฏุง ุฏุฑ ฺฉุงูุงู ุฒุฑ ุนุถู ุดูุฏ ุณูพุณ ุฏูุจุงุฑู ุงุณุชุงุฑุช ฺฉูุฏ",
    "big_heart": "ููุจ ุจุฒุฑฺฏ",
    "rules": "ููุงูู",
    "protection": "ุญูุงุช",
    "rules_text": "ูุชู ููุงูู",
    "coffee": "ูููุงู ูููู ุงุช",
    "dinner": "ุดุงู ุขุฎุฑ",
    "small_party": "ุฌุดู ฺฉูฺฺฉ",
    "big_party": "ุฌุดู ุจุฒุฑฺฏ",
    "you_pay": "ุชู ูพุฑุฏุงุฎุช ฺฉู",
    "back": "ุจุงุฒฺฏุดุช",
    "select": "ฺฉ ุฏฺฉูู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ",
    "en": "๐ด๓ง๓ข๓ฅ๓ฎ๓ง๓ฟุงูฺฏูุณ",
    "fa": "๐ฎ๐ทูุงุฑุณ",
    "select_lang": "ุฒุจุงู ุฑุจุงุช ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ",
    "archive": "ุตูุญู ุงุตู",
    "account": "ุญุณุงุจ ฺฉุงุฑุจุฑ",
    "support": "ูพุดุชุจุงู",
    "search": "ุฌุณุชุฌู",
    "option": "ุดูุง ูุจูุง ุงุฒ ุงู ุขูพุดู ุงุณุชูุงุฏู ฺฉุฑุฏู ุงุฏ!",
    "enter_amount": "ูุทูุง ูุจูุบ ุฑุง ุจู ุฑุงู ูุงุฑุฏ ฺฉูุฏ . ุญุฏุงูู ูุจูุบ 1000 ุฑุงู ู ุญุฏุงฺฉุซุฑ ูุจูุบ 500,000,000 ุฑุงู ุงุณุช",
    "small_amount": "ูุจูุบ ฺฉูุชุฑ ุงุฒ ุญุฏุงูู ููุฏุงุฑ ุงุณุช.ูุทูุง ูุจูุบ 1000 ุฑุงู ุง ุจุดุชุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:",
    "big_amount": "ูุจูุบ ุจุดุชุฑ ุงุฒ ุญุฏ ูุฌุงุฒ ุงุณุช ูุทูุง ูุจูุบ ฺฉูุชุฑ ูุงุฑุฏ ฺฉูุฏ:",
    "just_num": "ููุท ุนุฏุฏ ูุงุฑุฏ ฺฉูุฏ",
    "name": "ูุงู ูพุฑุฏุงุฎุช ฺฉููุฏู ุฑุง ูุงุฑุฏ ฺฉูุฏ: \n ุจุฑุง ฺฉูุณู ฺฉุฑุฏู ุฏุฑ ูุฑ ูุฑุญูู ฺฉููู ฺฉูุณู ุฑุง ุงุฑุณุงู ฺฉูุฏ!",
    "dont_image": "ูพุฑุฏุงุฎุช ฺฉูุณู ุดุฏ! ูุทูุง ุฏูุจุงุฑู ุฏฺฉูู ุฑุง ุจุฒูุฏ ู ููุงุฏุฑ ุฏุฑุณุช ูุงุฑุฏ ฺฉูุฏ",
    "cancel": "ฺฉูุณู",
    "canceled": "ุจุง ููููุช ฺฉูุณู ุดุฏ",
    "phone": "ุดูุงุฑู ุชููู ูพุฑุฏุงุฎุช ฺฉููุฏู ุฑุง ูุงุฑุฏ ฺฉูุฏ: \n ุจุฑุง ฺฉูุณู ฺฉุฑุฏู ฺฉููู ฺฉูุณู ุฑุง ุงุฑุณุงู ฺฉูุฏ!",
    "email": "ุงูู ูพุฑุฏุงุฎุช ฺฉููุฏู ุฑุง ูุงุฑุฏ ฺฉูุฏ: \n ุจุฑุง ฺฉูุณู ฺฉุฑุฏู ฺฉููู ฺฉูุณู ุฑุง ุงุฑุณุงู ฺฉูุฏ!",
    "desc": "ุชูุถุญุงุช ุฑุง ูุงุฑุฏ ฺฉูุฏ: \n ุจุฑุง ฺฉูุณู ฺฉุฑุฏู ฺฉููู ฺฉูุณู ุฑุง ุงุฑุณุงู ฺฉูุฏ!",
    "success_pay": "ูพุฑุฏุงุฎุช ุงูุฌุงู ุดุฏ",
    "pay_link": """ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ุดูุง ุณุงุฎุชู ุดุฏ: \n
{}

**ุชูุฌู**: ูุทูุง ุชุง ูุจู ุงุฒ ุญุฏุงฺฉุซุฑ ฑฐ ุฏููู ุจุนุฏ ุงุฒ ูพุฑุฏุงุฎุช ูุงุฑุฏ ุฑุจุงุช ุดูุฏ ู ุฏฺฉูู ุฒุฑ "ูพุฑุฏุงุฎุช ุงูุฌุงู ุดุฏ" ุฑู ุจุฒูุฏ ุฏุฑโ ุบุฑ ุงู ุตูุฑุช ูพุฑุฏุงุฎุช ุชุงุฏ ููุดูุฏ ู ูพูู ุจู ุญุณุงุจ ุดูุง ุจุงุฒ ูโฺฏุฑุฏุฏ """,
    "pay_verified": "ูพุฑุฏุงุฎุช ุชุงุฏ ุดุฏ ู ุฌุงุฒู ูุง ฺฉู ุจุนุฏุง ฺฉุงุฑูุฑูุง ูฺฏู ุจุฑุง ุดูุง ูุฑุงุฑ ุฏุงุฏู ุดุฏ",
    "dont_pay": "ุชุง ฺฉููู ูพุฑุฏุงุฎุช ุงูุฌุงู ูุดุฏู ุงุณุช",
    "search_in_channel": "ุฌุณุชุฌู ุฏุฑ ฺฉุงูุงู",
    "search_in_bot": "ุฌุณุชุฌู ุฏุฑ ุฑุจุงุช",
    "enter_hashtag": "ูุดุชฺฏ ููุฑุฏ ูุธุฑ ุฎูุฏ ุฑุง ุจุฑุง ุฌุณุชุฌู ุฏุฑ ฺฉุงูุงู ุจุง # ุง ุจุฏูู ุขู ูุงุฑุฏ ฺฉูุฏ๐",
    "not_found": "โูุชุฌู ุง ูพุฏุง ูุดุฏโ",
    "enter_button": "ุงุณู ุฏฺฉูู ุง ุจุฎุด ุงุฒ ุขู ุฑุง ูุงุฑุฏ ฺฉูุฏ:",
    "panel": "ูพูู ุงุฏูู",
    "words": "ฺฉููุงุช",
    "add_word": "ุงุถุงูู ฺฉุฑุฏู ฺฉููู",
    "show_words": "ูุดุงูุฏู ฺฉููุงุช",
    "enter_word": "ูุงู ุฏฺฉูู ุฑุง ูุงุฑุฏ ฺฉูุฏ:\n ุจุฑุง ฺฉูุณู ฺฉุฑุฏู ฺฉููู ฺฉูุณู ุฑุง ุงุฑุณุงู ฺฉูุฏ",
    "saved": "ุจุง ููููุช ุซุจุช ุดุฏโ",
    "welcome_show_words": "ฺฉููุงุช ุซุจุช ุดุฏู:",
    "delete_btn": "๐",
    "edit_btn": "โ๏ธ ",
    "word_text": "ูุชู ุฏฺฉูู",
    "word_tag": "ุชฺฏ ุฏฺฉูู",
    "come_next": "ุฏฺฉูู ุตูุญู ุจูุฏ",
    "enter_new_text": "ูุชู ุฌุฏุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ",
    "edited": "ุจุง ููููุช ุชุบุฑ ฺฉุฑุฏ",
    "deleted": "ุจุง ููููุช ุญุฐู ุดุฏ",
    "underline": "ุจุฑุง ุฌุณุชุฌู ุฏุฑ ุฏฺฉูู ูุง ุฑุจุงุช ุงูู ุนุจุงุฑุช ุฎูุฏ _ ุง ุฎุท ุชุฑู ุจฺฏุฐุงุฑุฏ",
    "reply": "ุจุงุฒูพุฎุด",
    "fantasy": "ูุงูุชุฒ",
    "data_archive": "ุขุฑุดู ุฏุชุง",
    "soon": "ุจู ุฒูุฏ",
    "user_information": "ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ",
    "personal_account": "ุญุณุงุจ ุดุฎุต",
    "sub_collection": "ุฒุฑ ูุฌููุนู ฺฏุฑ",
    "first_start": "ุงุจุชุฏุง ุงุณุชุงุฑุช ฺฉูุฏ",
    "grand": "ฺฏุฑูุฏูพุฑ",
    "add_grand": "ุงูุฒูุฏู",
    "show_grand": "ูุดุงูุฏู",
    "enter_grand": "ูุงู ฺฏุฑูุฏูพุฑ ุฑุง ุจู ูุงุฑุณ ุง ุงูฺฏูุณ ูุงุฑุฏ ฺฉูุฏ:",
    "enter_grand_num": "ุดูุงุฑู ุฑุงูุฏ ฺฉู ูุณุงุจูู ุฏุฑ ุงู ฺฏุฑูุฏูพุฑ ุจุฑฺฏุฒุงุฑ ุดุฏู ุฑุง ูุงุฑุฏ ฺฉูุฏ:\n ูุซู ฺู ฺฉู ุฑุงูุฏ 5 ูุณุช",
    "successfully": "ุจุง ููููุช ุซุจุช ุดุฏ",
    "welcome_show_grand": "ฺฏุฑูุฏูพุฑ ูุง ุซุจุช ุดุฏู:",
    "close_grand": "๐",
    "delete_grand": "๐",
    "grand_round": "ุฑุงูุฏ ฺฏุฑูุฏูพุฑ",
    "grand_name": "ูุงู ฺฏุฑูุฏูพุฑ",
    "grand_not_found": "ฺฏุฑูุฏูพุฑ ุญุฐู ุดุฏู ุงุณุชโ",
    "grand_opened": "ุจุง ููููุช ุจุงุฒ ุดุฏ",
    "grand_closed": "ุจุง ููููุช ุจุณุชู ุดุฏ",
    "scores": "ูพุงูุฑ ุฑูฺฉูฺฏ",
    "add_score": "ุซุจุช ุงูุชุงุฒ",
    "show_table": "ูุดุงูุฏู ุฌุฏูู",
    "grands_not_found": "ฺฏุฑูุฏูพุฑ ูุง ูููุฒ ุจุฑุง ุฑุง ุฏุงุฏู ุซุจุช ูุดุฏู ุงูุฏโ",
    "select_grand": "ฺฏุฑูุฏูพุฑ ููุฑุฏ ูุธุฑ ุฎูุฏ ุฑุง ฺฉู ูุฎูุงูุฏ ุจู ุฑุงููุฏู ูุง ุขู ุฑุง ุจุฏูุฏ ุงูุชุฎุงุจ ฺฉูุฏ",
    "requesting_ergast": "ุฏุฑุญุงู ุฏุฑุฎูุงุณุช ุจู ุงุฑฺฏุณุช... ูุทูุง ููุชุธุฑ ุจุงุดุฏ",
    "grand_is_close": "ุงูุชุงุฒ ุฏู ุฏุฑ ุงู ฺฏุฑูุฏูพุฑ ูุชููู ุดุฏู ุงุณุช",
    "select_driver": "ุฑุงููุฏู ูุง {gp}\n ฺฉ ุงุฒ ุฑุงููุฏู ูุง ุฑุง ุจุฑุง ุงูุชุงุฒ ุฏู ุงูุชุฎุงุจ ฺฉูุฏ",
    "qualifying": "ุงูุชุงุฒ ููุฑุฏ ูุธุฑ ุฎูุฏ ุฑุง ุงุฒ 1 ุชุง 10 ุจุฑุง ุนููฺฉุฑุฏ ุฑุงููุฏู ุฏุฑ ุชุนู ุฎุท ูุงุฑุฏ ฺฉูุฏ:",
    "race": "ุงูุชุงุฒ ููุฑุฏ ูุธุฑ ุฎูุฏ ุฑุง ุงุฒ 1 ุชุง 10 ุจุฑุง ุนููฺฉุฑุฏ ุฑุงููุฏู ุฏุฑ ูุณุงุจูู ูุงุฑุฏ ฺฉูุฏ:",
    "car": "ุงูุชุงุฒ ููุฑุฏ ูุธุฑ ุฎูุฏ ุฑุง ุงุฒ 1 ุชุง 10 ุจุฑุง ูุณุจุช ุนููฺฉุฑุฏ ุฑุงููุฏู ุจู ูุงุดู ูุงุฑุฏ ฺฉูุฏ:",
    "small_score": "ุญุฏุงูู ุงูุชุงุฒ 1 ูุจุงุดุฏ",
    "big_score": "ุญุฏุงฺฉุซุฑ ุงูุชุงุฒ 10 ูุจุงุดุฏ",
    "you_scored": "ุดูุง ูุจูุง ุจู ุงู ุฑุงููุฏู ุงูุชุงุฒ ุฏุงุฏู ุงุฏ",
    "select_see_grand": "ฺฏุฑูุฏูพุฑ ููุฑุฏ ูุธุฑ ุจุฑุง ูุดุงูุฏู ุงูุชุงุฒุงุช ุซุจุช ุดุฏู ุจุฑุง ุฑุงููุฏฺฏุงู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ๐",
    "successfully_scored": "ุงูุชุงุฒ ุดูุง ุจุง ููููุช ุซุจุช ุดุฏโ",
    "name_already_exists": "ฺฏุฑูุฏูพุฑ ุจุง ุงู ูุงู ุงุฒ ูุจู ููุฌูุฏ ุงุณุชโ\n ูุทูุง ุฏูุจุงุฑู ุฏฺฉูู ุงูุฒูุฏู ุฑุง ุจุฒูุฏ ู ุงูุชุญุงู ฺฉูุฏ",
    "round_already_exists": "ฺฏุฑูุฏูพุฑ ุจุง ุงู ุฑุงูุฏ ุงุฒ ูุจู ููุฌูุฏ ุงุณุชโ\n ูุทูุง ุฏูุจุงุฑู ุฏฺฉูู ุงูุฒูุฏู ุฑุง ุจุฒูุฏ ู ุงูุชุญุงู ฺฉูุฏ",
    "robot_statistics": "ุขูุงุฑ ุฑุจุงุช",
    "statistics_text": "ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู ุฑุจุงุช: {users}",
    "": "",
    "": "",
    "": "",
}
